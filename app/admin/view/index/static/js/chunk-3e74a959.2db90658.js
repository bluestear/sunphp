(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e74a959"],{"0792":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return c}));var n=a("61f7");function i(t,e,a){if(e){if(!Object(n["f"])(e)&&!Object(n["e"])(e))return a(new Error("号码填写不正确"));a()}else a()}function c(t,e,a){if(e){if(!Object(n["d"])(e))return a(new Error("数字填写不正确"));a()}else a()}},"388f":function(t,e,a){"use strict";a("834c")},6724:function(t,e,a){"use strict";a("8d41");var n="@@wavesContext";function i(t,e){function a(a){var n=Object.assign({},e.value),i=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),c=i.ele;if(c){c.style.position="relative",c.style.overflow="hidden";var r=c.getBoundingClientRect(),s=c.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":(s=document.createElement("span"),s.className="waves-ripple",s.style.height=s.style.width=Math.max(r.width,r.height)+"px",c.appendChild(s)),i.type){case"center":s.style.top=r.height/2-s.offsetHeight/2+"px",s.style.left=r.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(a.pageY-r.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(a.pageX-r.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=i.color,s.className="waves-ripple z-active",!1}}return t[n]?t[n].removeHandle=a:t[n]={removeHandle:a},a}var c={bind:function(t,e){t.addEventListener("click",i(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[n].removeHandle,!1),t.addEventListener("click",i(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[n].removeHandle,!1),t[n]=null,delete t[n]}},r=function(t){t.directive("waves",c)};window.Vue&&(window.waves=c,Vue.use(r)),c.install=r;e["a"]=c},"834c":function(t,e,a){},"8d41":function(t,e,a){},a34a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container account-info"},[a("div",{staticClass:"module-content"},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.module.name,expression:"module.name"}],staticClass:"avatar",attrs:{src:t.calcIcon(t.module)}}),t._v(" "),a("div",{staticClass:"module-div",attrs:{title:t.module.name}},[a("span",[t._v(t._s(t.module.name))])]),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo my-menu",attrs:{"default-active":t.activeName}},[a("el-menu-item",{attrs:{index:"cover"},on:{click:function(e){return t.tabMenu("cover")}}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("入口地址")])]),t._v(" "),t._l(t.menus,(function(e){return[a("el-menu-item",{key:e.id,attrs:{index:e.id},on:{click:function(a){return t.tabModule(e)}}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])]}))],2)],1),t._v(" "),"cover"==t.activeName?a("div",{staticClass:"div-right"},[a("div",{staticClass:"account-content",on:{click:t.clickAccount}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.account.name,expression:"account.name"}],staticClass:"avatar",attrs:{src:t.calcAvatar(t.account)}}),t._v(" "),a("div",{staticClass:"account-div"},[a("span",[t._v(t._s(t.account.name))]),t._v(" "),a("span",[1==t.account.type?a("svg-icon",{attrs:{"icon-class":"wechat"}}):t._e(),t._v(" "),2==t.account.type?a("svg-icon",{attrs:{"icon-class":"wxxcx"}}):t._e(),t._v(" "),3==t.account.type?a("svg-icon",{attrs:{"icon-class":"douyin"}}):t._e(),t._v(" "),4==t.account.type?a("svg-icon",{attrs:{"icon-class":"web"}}):t._e(),t._v(" "),5==t.account.type?a("svg-icon",{attrs:{"icon-class":"app"}}):t._e(),t._v(" "),6==t.account.type?a("svg-icon",{attrs:{"icon-class":"zfbxcx"}}):t._e(),t._v(" "),7==t.account.type?a("svg-icon",{attrs:{"icon-class":"baidu"}}):t._e(),t._v("\n          "+t._s(t.typeOptions[t.account.type])+"\n        ")],1)])]),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.covers,fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"二维码",width:"200px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("img",{staticClass:"app-avatar",attrs:{src:e.qrcode}})]}}],null,!1,1615844249)}),t._v(" "),a("el-table-column",{attrs:{label:"名称","min-width":"200px"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.title))])]}}],null,!1,1669095044)}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"300","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.tapClip(n,e)}}},[t._v("\n              复制链接\n            ")])]}}],null,!1,1410390759)})],1)],1)]):t._e()])},i=[],c=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("96cf"),a("1da1")),r=(a("7f7f"),a("a481"),a("ade3")),s=a("2f62"),o=a("0792"),u=a("3a5f"),l=a.n(u),d=a("6724"),p=a("d055"),v=a.n(p),f=a("f71e");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={name:"AccountModule",components:{},directives:{waves:d["a"]},data:function(){return{activeName:"cover",tableKey:0,listLoading:!0,auth_acid:"",app_id:"",account:{},module:{},menus:[],covers:[],typeOptions:{0:"全部",1:"微信公众号",2:"微信小程序",3:"抖音小程序",4:"PC网站",5:"APP应用",6:"支付宝小程序",7:"百度小程序"},rules:{name:[{required:!0,message:"昵称不能为空",trigger:"blur"}],number:[{required:!0,message:"不能为空",trigger:"blur"},{validator:o["a"],trigger:"blur"}]}}},computed:m({},Object(s["c"])({config:function(t){return t.system.config}})),created:function(){this.getModule()},methods:{getModule:function(){var t=this;if(!this.$route.query.acid||!this.$route.query.app_id)return this.$message({message:"参数错误",type:"warning"}),void this.$router.replace({name:"AccountList"});this.auth_acid=this.$route.query.acid,this.app_id=this.$route.query.app_id,this.listLoading=!0,this.$http.post("account/module",{acid:this.auth_acid,app_id:this.app_id}).then((function(e){t.account=e.data.account,t.module=e.data.module,t.menus=e.data.menus,t.calcCovers(e.data.module.cover),t.$route.meta.title=t.account.name,t.listLoading=!1}))},calcAvatar:function(t){return t.avatar?this.config.attach_url+t.avatar:this.config.web_url+"/attachment/logo.png"},calcIcon:function(t){return t.logo?this.config.attach_url+t.logo:t.icon?this.config.web_url+"/"+t.dir+"/"+t.identity+"/"+t.icon:this.config.web_url+"/attachment/logo.png"},clickAccount:function(){this.$router.push({name:"AccountInfo",query:{acid:this.auth_acid}})},tabMenu:function(t){switch(t){case"cover":this.activeName=t;break;default:break}},tapClip:function(t,e){Object(f["a"])(this.calcUrl(t),e)},calcCovers:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<e.length)){t.next=9;break}return t.next=4,this.createQRCode(e[a]);case 4:n=t.sent,e[a]["qrcode"]=n;case 6:a++,t.next=1;break;case 9:this.covers=e;case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),createQRCode:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.a.toDataURL(this.calcUrl(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),calcUrl:function(t){var e="";switch(this.module.dir){case"app":e=l.a.siteroot+t.url,e.indexOf("?")>-1?e+="&i="+this.auth_acid:e+="?i="+this.auth_acid;break;case"addons":var a="site";"4"==this.account.type&&(a="webapp"),e=l.a.siteroot.split("index.php")[0]+"app/index.php",e+="?i="+this.auth_acid,e+="&c=entry&a="+a+"&m="+this.module.identity,e+="&do="+t.do,t.state&&(e+="&state="+t.state);break;default:break}return e},tabModule:function(t){var e="";switch(this.module.dir){case"app":e=l.a.siteroot+t.url,e.indexOf("?")>-1?e+="&i="+this.auth_acid:e+="?i="+this.auth_acid,window.open(e,"_blank");break;case"addons":e=l.a.siteroot.split("index.php")[0]+"web/index.php",e+="?i="+this.auth_acid,e+="&c=site&a=entry&module_name="+this.module.identity,e+="&do="+t.do,t.state&&(e+="&state="+t.state),window.open(e,"_blank");break;default:break}}}},b=g,w=(a("388f"),a("2877")),_=Object(w["a"])(b,n,i,!1,null,"9408c55c",null);e["default"]=_.exports}}]);