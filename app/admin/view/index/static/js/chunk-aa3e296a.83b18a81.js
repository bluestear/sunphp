(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa3e296a"],{"3b2d":function(e,t,s){},"4dc9":function(e,t,s){"use strict";s("3b2d")},fe60:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"附件设置",name:"set"}},[s("el-form",{ref:"emailForm",staticStyle:{width:"550px","margin-top":"20px"},attrs:{model:e.storage,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"后缀格式",prop:"suffix"}},[s("el-input",{staticStyle:{width:"350px"},attrs:{type:"textarea",maxlength:"200","show-word-limit":"",autosize:{minRows:5,maxRows:10},placeholder:"一行一个后缀，留空则采用系统默认设置"},model:{value:e.storage.suffix,callback:function(t){e.$set(e.storage,"suffix",t)},expression:"storage.suffix"}}),e._v(" "),s("div",{staticStyle:{color:"#C0C4CC"}},[e._v("一行一个后缀，留空则采用系统默认设置")])],1),e._v(" "),s("el-form-item",{attrs:{label:"图片大小",prop:"email_name"}},[s("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"图片大小限制，默认5000KB"},model:{value:e.storage.img_size,callback:function(t){e.$set(e.storage,"img_size",t)},expression:"storage.img_size"}}),e._v(" "),s("span",{staticClass:"kb-span"},[e._v("KB")])],1),e._v(" "),s("el-form-item",{attrs:{label:"音视频大小",prop:"email_sender"}},[s("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"音视频大小限制，默认5000KB"},model:{value:e.storage.video_size,callback:function(t){e.$set(e.storage,"video_size",t)},expression:"storage.video_size"}}),e._v(" "),s("span",{staticClass:"kb-span"},[e._v("KB")])],1),e._v(" "),s("el-form-item",{attrs:{label:"其他文件大小",prop:"email_code"}},[s("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"其他文件大小限制，默认5000KB"},model:{value:e.storage.file_size,callback:function(t){e.$set(e.storage,"file_size",t)},expression:"storage.file_size"}}),e._v(" "),s("span",{staticClass:"kb-span"},[e._v("KB")])],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("保存")])],1)],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"远程存储",name:"oss"}},[s("div",{staticStyle:{"margin-top":"10px"}},[s("el-radio-group",{model:{value:e.storage.type,callback:function(t){e.$set(e.storage,"type",t)},expression:"storage.type"}},[s("el-radio",{attrs:{label:1}},[e._v("本地服务器")]),e._v(" "),s("el-radio",{attrs:{label:2}},[e._v("阿里云存储")]),e._v(" "),s("el-radio",{attrs:{label:3}},[e._v("腾讯云存储")]),e._v(" "),s("el-radio",{attrs:{label:4}},[e._v("七牛云存储")])],1)],1),e._v(" "),1==e.storage.type?s("div",{staticStyle:{"margin-bottom":"50px"}}):e._e(),e._v(" "),2==e.storage.type?s("div",[s("el-form",{ref:"drawForm",staticStyle:{width:"500px","margin-top":"20px"},attrs:{model:e.ali_oss,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"Bucket"}},[s("el-input",{attrs:{placeholder:"阿里云存储Bucket名称"},model:{value:e.ali_oss.bucket,callback:function(t){e.$set(e.ali_oss,"bucket",t)},expression:"ali_oss.bucket"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Url"}},[s("el-input",{attrs:{placeholder:"访问域名url"},model:{value:e.ali_oss.url,callback:function(t){e.$set(e.ali_oss,"url",t)},expression:"ali_oss.url"}}),e._v(" "),s("div",{staticStyle:{color:"#C0C4CC"}},[e._v("https://开头的域名，结尾不加'/'，如：https://xyz.cn")])],1),e._v(" "),s("el-form-item",{attrs:{label:"Access ID"}},[s("el-input",{attrs:{placeholder:"Access ID"},model:{value:e.ali_oss.accesskey,callback:function(t){e.$set(e.ali_oss,"accesskey",t)},expression:"ali_oss.accesskey"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Access Secret"}},[s("el-input",{attrs:{placeholder:"Access Secret"},model:{value:e.ali_oss.secretkey,callback:function(t){e.$set(e.ali_oss,"secretkey",t)},expression:"ali_oss.secretkey"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Endpoint"}},[s("el-input",{attrs:{placeholder:"阿里云地域节点"},model:{value:e.ali_oss.endpoint,callback:function(t){e.$set(e.ali_oss,"endpoint",t)},expression:"ali_oss.endpoint"}}),e._v(" "),s("div",{staticStyle:{color:"#C0C4CC"}},[e._v("阿里云地域节点，如：https://oss-cn-beijing.aliyuncs.com")])],1)],1)],1):e._e(),e._v(" "),3==e.storage.type?s("div",[s("el-form",{ref:"drawForm",staticStyle:{width:"500px","margin-top":"20px"},attrs:{model:e.tencent_cos,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"Bucket"}},[s("el-input",{attrs:{placeholder:"腾讯云存储Bucket名称"},model:{value:e.tencent_cos.bucket,callback:function(t){e.$set(e.tencent_cos,"bucket",t)},expression:"tencent_cos.bucket"}}),e._v(" "),s("div",{staticStyle:{color:"#C0C4CC"}},[e._v("存储桶名称，形式如：BucketName-Appid")])],1),e._v(" "),s("el-form-item",{attrs:{label:"Url"}},[s("el-input",{attrs:{placeholder:"访问域名url"},model:{value:e.tencent_cos.url,callback:function(t){e.$set(e.tencent_cos,"url",t)},expression:"tencent_cos.url"}}),e._v(" "),s("div",{staticStyle:{color:"#C0C4CC"}},[e._v("https://开头的域名，结尾不加'/'，如：https://xyz.cn")])],1),e._v(" "),s("el-form-item",{attrs:{label:"SecretID"}},[s("el-input",{attrs:{placeholder:"SecretID"},model:{value:e.tencent_cos.accesskey,callback:function(t){e.$set(e.tencent_cos,"accesskey",t)},expression:"tencent_cos.accesskey"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"SecretKEY"}},[s("el-input",{attrs:{placeholder:"SecretKEY"},model:{value:e.tencent_cos.secretkey,callback:function(t){e.$set(e.tencent_cos,"secretkey",t)},expression:"tencent_cos.secretkey"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Region"}},[s("el-input",{attrs:{placeholder:"所属地域"},model:{value:e.tencent_cos.region,callback:function(t){e.$set(e.tencent_cos,"region",t)},expression:"tencent_cos.region"}}),e._v(" "),s("div",{staticStyle:{color:"#C0C4CC"}},[e._v("所属地域，如：ap-nanjing")])],1)],1)],1):e._e(),e._v(" "),4==e.storage.type?s("div",[s("el-form",{ref:"drawForm",staticStyle:{width:"500px","margin-top":"20px"},attrs:{model:e.qiniu,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"Bucket"}},[s("el-input",{attrs:{placeholder:"七牛云存储Bucket名称"},model:{value:e.qiniu.bucket,callback:function(t){e.$set(e.qiniu,"bucket",t)},expression:"qiniu.bucket"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Url"}},[s("el-input",{attrs:{placeholder:"访问域名url"},model:{value:e.qiniu.url,callback:function(t){e.$set(e.qiniu,"url",t)},expression:"qiniu.url"}}),e._v(" "),s("div",{staticStyle:{color:"#C0C4CC"}},[e._v("https://开头的域名，结尾不加'/'，如：https://xyz.cn")])],1),e._v(" "),s("el-form-item",{attrs:{label:"Accesskey"}},[s("el-input",{attrs:{placeholder:"Accesskey"},model:{value:e.qiniu.accesskey,callback:function(t){e.$set(e.qiniu,"accesskey",t)},expression:"qiniu.accesskey"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Secretkey"}},[s("el-input",{attrs:{placeholder:"Secretkey"},model:{value:e.qiniu.secretkey,callback:function(t){e.$set(e.qiniu,"secretkey",t)},expression:"qiniu.secretkey"}})],1)],1)],1):e._e(),e._v(" "),s("div",[s("el-button",{staticStyle:{"margin-left":"120px"},attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)])],1)],1)},l=[],i={name:"SystemOss",components:{},data:function(){return{activeName:"set",storage:{type:1},ali_oss:{},tencent_cos:{},qiniu:{}}},created:function(){this.get()},methods:{not_empty:function(e){return!!e&&!(["{}","[]"].indexOf(JSON.stringify(e))>-1)},get:function(){var e=this;e.$http.post("storage/get",{}).then((function(t){if(t.data){for(var s=["type","suffix","img_size","video_size","file_size"],a={},l=0,i=s;l<i.length;l++){var o=i[l];a[o]=t.data[o]}e.storage=a,e.ali_oss=e.not_empty(t.data.ali_oss)?t.data.ali_oss:{},e.tencent_cos=e.not_empty(t.data.tencent_cos)?t.data.tencent_cos:{},e.qiniu=e.not_empty(t.data.qiniu)?t.data.qiniu:{}}}))},update:function(){var e=this;this.$http.post("storage/update",this.storage).then((function(t){e.$notify({title:"成功",message:t.message,type:"success",duration:2e3})}))},save:function(){var e=this,t={};switch(t.type=this.storage.type,t.type){case 2:t.ali_oss=this.ali_oss;break;case 3:t.tencent_cos=this.tencent_cos;break;case 4:t.qiniu=this.qiniu;break}this.$http.post("storage/oss",t).then((function(t){e.$notify({title:"成功",message:t.message,type:"success",duration:2e3})}))}}},o=i,c=(s("4dc9"),s("2877")),n=Object(c["a"])(o,a,l,!1,null,"b682938a",null);t["default"]=n.exports}}]);